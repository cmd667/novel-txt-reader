{% extends 'base.html' %}
{% block content %}

<div class="d-flex justify-content-between align-items-center mb-3">
    <h2>📚 小说列表</h2>
</div>

<ul class="list-group">
    {% for novel in novels %}
        <li class="list-group-item">
            <a href="{{ url_for('view_toc', novel_name=novel.filename) }}">{{ novel.title }}</a>
        </li>
    {% else %}
        <li class="list-group-item">📂 暂无小说文件，请上传 TXT 文件夹</li>
    {% endfor %}
</ul>

<!-- 分页导航 -->
<nav aria-label="Page navigation" class="mt-3">
  <ul class="pagination">
    <!-- 上一页 -->
    {% if page > 1 %}
      <li class="page-item">
        <a class="page-link" href="{{ url_for('index', page=page-1) }}">上一页</a>
      </li>
    {% else %}
      <li class="page-item disabled"><span class="page-link">上一页</span></li>
    {% endif %}

    <!-- 页码 -->
    {% for p in range(1, total_pages + 1) %}
      <li class="page-item {% if p == page %}active{% endif %}">
        <a class="page-link" href="{{ url_for('index', page=p) }}">{{ p }}</a>
      </li>
    {% endfor %}

    <!-- 下一页 -->
    {% if page < total_pages %}
      <li class="page-item">
        <a class="page-link" href="{{ url_for('index', page=page+1) }}">下一页</a>
      </li>
    {% else %}
      <li class="page-item disabled"><span class="page-link">下一页</span></li>
    {% endif %}
  </ul>
</nav>

{% endblock %}
